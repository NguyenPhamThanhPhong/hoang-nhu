var messages= [
    [
        {
            text: "\u00A0\u00A0\u00A0\u00A0\u00A0Đã 2 năm từ khi rời trường😥😥, lâu rồi không được gặp Như."
            +"Hiếm khi có thể nói chuyện với Như thật dài"
            +"nên mình nghĩ đây là cách cuối cùng để được Như lắng nghe (╥﹏╥)",
            istyping: false
        },
        {
            text: "",
            isBr: true,
        },
        {
            text: "\u00A0\u00A0\u00A0\u00A0\u00A0Xem hết nhá, coi như cuộc nói chuyện bình thường.. "+
            "lướt qua hết và có thể xem như chưa từng"+
            "bước vào đây,.. nếu Như không thích.."
        },
        {
            isBr: true,
        },
        {
            text:"\u00A0\u00A0\u00A0\u00A0\u00A0Mặc dù mình cũng muốn lấy web này làm web CV bản thân cho Như ૮(˶╥︿╥)ა"
        }
    ],
    [
        {
            text: "\u00A0\u00A0\u00A0\u00A0\u00A0Trước tiên là, dạo này Như có vẻ vẫn iu đời (⁀ᗢ⁀)",
            istyping: false
        },
        {
            isBr: true,
        },
        {
            text:"sushi nè, và lại là sushi nè... mèo và cả mèo nữa. Liệu đây có phải là con meo nào đó "
            +"đang dùng Facebook Hoàng Như không nhỉ? ( ͡° ͜ʖ ͡°) ",
            ístyping: true
        },
        {
            isBr: true,
        },
        {
            isBr: true,
        },
        {
            text: "\u00A0\u00A0\u00A0\u00A0\u00A0Và hi vọng trong suốt khoảng đó thời gian Như vẫn khỏe, ",
        },
        {
            isBr: true,
        },
        {
            text:"\u00A0\u00A0\u00A0\u00A0\u00A0vẫn vui vẻ, vẫn cười nhiều, vẫn ăn nhiều, vẫn ngủ nhiều, vẫn học tốt, vẫn chơi vui, vẫn iu mèo, vẫn iu mình, vẫn iu mọi người, vẫn iu cuộc sống, iu đủ thứ như 1 con điên (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧",
            istyping: true
        }
    ],
    [
        {
            text:"\u00A0\u00A0\u00A0\u00A0\u00A02 năm thì mình cũng khác đi, hi vọng đã bớt ngu, bớt kì cục..."
        },
        {
            isBr: true
        },
        {
            text:"Mình cũng gặp nhiều người,... nhưng mà á.. vẫn nhớ cái bạn nào đó D1 chạy lon ton ở hành lang, đầu với không tới lan can, "
            +"cười ra rả như điên. (づ￣ ³￣)づ. Thế là vào một ngày buốn hiu, buồn thúi ruột."
            +"mình nghĩ liệu có cách nào để nói chuyện với Như thật lâu không."
            +"Và cuối cùng là mình cong lưng làm ra cái web này để ... biết rùi đó",
            istyping: true
        }
    ],
    [
        {
            text:"\u00A0\u00A0\u00A0\u00A0\u00A0well, biết là như đang trong mối quan hệ.. hi vọng là hạnh phúc"
        },
        {
            isBr: true
        },
        {
            text:"\u00A0\u00A0\u00A0\u00A0\u00A0mình vẫn muốn bày tỏ,... mình yêu Như (ewww sến quá, ai đó xóa dùm t cái dòng này đi eowww)",
            istyping: true
        },
        {
            isBr: true
        },
        {
            text:"Thế nên là.. mình vẫn muốn thử lại 1 lần nữa, nhưng lần này không bằng lời mà là con người mình "
        },
        {
            isBr: true
        },
        {
            text:"\u00A0\u00A0\u00A0\u00A0\u00A0Có thể không phải là bây giờ.. vì giờ mình đã có gì đâu, tiền không có, đẹp cũng không..",
        },
        {
            isBr: true
        },
        {
            text:"\u00A0\u00A0\u00A0\u00A0\u00A0Cứ xem như đây là thư gửi bạn mình đi.. Mình sẽ thay đổi gì đó và sẽ quay lại hỏi Như 1 lần nữa"
            + " vào một ngày kỳ lạ"
        }
    ],
    [
        {
            text:"🐧🐧... Biết đâu ngày nào đó cho Như chiếc Posche đua xe bốc đầu thì sao nè🐧🐧",
        },
        {
            isBr: true
        },
        {
            text:"..Mình sẽ xem lấy chồng giàu là ước mơ của Như.. cũng hông biết là đỡ nổi không đây",
        },
        {
            isBr: true
        },
        {
            text:"Giữ cho mình một chỗ trong đầu Như được rồi.."
        },
        {
            isBr: true
        },
        {
            isBr: true
        },
        {
            text:"Lâu lâu ngồi không tự nhiên nhớ có thằng khùng nó làm đủ trò để khều mình ( ๑ ˃̵ᴗ˂̵)و ♡ ",
            istyping: true
        }
    ],
    [
        {
            text:"Hiện tại mình cũng đang cố gắng, xin được thực tập này nọ kia..",
        },
        {
            isBr: true
        },
        {
            text:'... mục tiêu mới ra trường $800/tháng cũng ổn mà nhỉ.. '
            +'(ㅠ﹏ㅠ) cỡ này thui, mình sợ không rướn nổi... từ từ rồi số đó sẽ lớn hơn',
        },
        {
            isBr: true
        },
        {
            isBr: true
        },
        {
            text:"Nhân tiện thì, liệu mình có thể biết Như đang ở đâu không, học cơ sở nào..."
        },
        {
            isBr: true
        },
        {
            text:"Mình có vài món quà chưa gửi được Như, liệu có chỗ nào mình gửi được không"
        },
        {
            isBr: true
        },
        {
            text:"P/s: sao để bắt con meo meo Hoàng Như này về nuôi đây (づ￣ ³￣)づ"
        },
        {
            isBr: true
        },
        {
            text:"Chiếc web này hơi xấu, Như thông cảm, mình chưa có thời gian chuẩn bị tốt hơn 😥😥"
        },
        {
            isBr: true
        },
        {
            text:"tự tay mình làm ấy, không nhờ ai vẽ như cấp 3 đâu, dù mình không giỏi làm giao diện 😥"
        }
    ]
]
var x = "(づ￣ ³￣)づ"
var current = 0;
var images=[
    "./images/Nhu/Nhu BTVN.png",
    "./images/Nhu/intro-import.jpg",
    "./images/Nhu/Nhu hoa.png",
    "./images/Nhu/Nhu yeah.png",
    "./images/Nhu/Nhu avatar.jpg",
    "./images/Nhu/Nhudraw.jpg"
]

var image_box = document.querySelector('#avatar')

var text_display = document.querySelector('.home-info p')
var base_id = "pages-"
ResetMessage(messages[current]);

var page_list = document.querySelectorAll('.page-box i')

var button_prev = document.querySelector('#prev')
var button_next = document.querySelector('#next')

var page_box = document.querySelector('.page-box')


function AddClassList(classList,element){
    for(let i=0;i<classList.length;i++){
        element.classList.add(classList[i])
    }
}

function ResetMessage(message){
    // console.log(text_display.innerHTML)
    text_display.innerHTML = "";
    message.forEach(item=>{
        if(item.isBr){
            text_display.appendChild(document.createElement('br'));
        }
        else if(item.istyping){
            let my_span = document.createElement('span');
            my_span.classList.add("typing-text")
            text_display.appendChild(my_span);
            var text_box_typing = new Typed(".typing-text",{
                strings:[item.text],
                typeSpeed: 30,
                backSpeed: 0,
                loop: false
            })
        }
        else
        {
            text_display.appendChild(document.createTextNode(item.text));
        }
    })

}

function PageClickHandler(event){
    const clicked_page = event.target;
    var index = clicked_page.id.substring(base_id.length);
    current=index-1
    let message = messages[current];
    ResetMessage(message);
    PageSwitch();
    ImageSwitch();
}

function PageSwitch(){
    for(let i =0;i<page_list.length;i++){
        page_list[i].classList.remove('fa-beat')
    }
    page_list[current].classList.add('fa-beat')
}
function ImageSwitch(){
    // console.log(image_box)
    image_box.src = images[current]
}

// -----event adding here----------

for(let i =0;i<page_list.length;i++){
    page_list[i].addEventListener("click",PageClickHandler)
}
button_prev.addEventListener("click",function(){
    current=(current-1)%messages.length;
    if(current<0)
        current = 0;
    let message = messages[current];
    ResetMessage(message);
    PageSwitch();
    ImageSwitch();
})
button_next.addEventListener("click",function(){
    current=(current+1)%messages.length;
    if(current<0)
        current = 0;
    // console.log(messages[current])
    let message = messages[current];
    ResetMessage(message);
    PageSwitch();
    ImageSwitch();
})
